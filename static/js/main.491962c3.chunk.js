(this.webpackJsonpreclassify=this.webpackJsonpreclassify||[]).push([[0],{18:function(A,e){A.exports="data:image/png;base64,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"},21:function(A,e,t){A.exports=t(40)},32:function(A,e){},33:function(A,e){},34:function(A,e){},35:function(A,e){},36:function(A,e){},37:function(A,e){},39:function(A,e,t){},40:function(A,e,t){"use strict";t.r(e);var n=t(1),a=t.n(n),s=t(12),i=t.n(s),c=t(2),r=t.n(c),o=t(5),u=t(13),d=t(14),l=t(19),f=t(15),b=t(20),h=t(16),m=t(7),g=t(17),k=t(9),p=t(18),C=t.n(p),v=(t(39),g.a()),R=function(A){function e(A){var t;return Object(u.a)(this,e),(t=Object(l.a)(this,Object(f.a)(e).call(this,A)))._handleKeyDown=function(A){switch(A.keyCode){case 27:t.toggleVideoCapture()}},t.toggleCameraMode=function(){k.isBrowser||("environment"===t.state.facingMode?(t.setState({facingMode:"user"}),t.setState({Webcam:t.maybeLoadWebcam(!0)})):(t.setState({facingMode:"environment"}),t.setState({Webcam:t.maybeLoadWebcam(!0)})))},t.requestReset=function(){t.setState({Reset:!0})},t.state={Prediction:"none",Confidence:0,ModelRunning:!0,VideoCapture:!0,Reset:!1,Webcam:null,facingMode:"user"},t.webcamRef=a.a.createRef(),t}return Object(b.a)(e,A),Object(d.a)(e,[{key:"maybeLoadWebcam",value:function(){var A=Object(o.a)(r.a.mark((function A(e){var t;return r.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(null!=this.state.Webcam&&!e){A.next=6;break}return A.next=3,m.a.webcam(this.webcamRef.current,{facingMode:this.state.facingMode});case 3:t=A.sent,console.log(t.webcamConfig.facingMode),this.setState({Webcam:t});case 6:return this.setState({Prediction:"none"}),A.abrupt("return",this.state.Webcam);case 8:case"end":return A.stop()}}),A,this)})));return function(e){return A.apply(this,arguments)}}()},{key:"toggleVideoCapture",value:function(){var A=Object(o.a)(r.a.mark((function A(){var e;return r.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(!this.state.VideoCapture||null===this.state.Webcam){A.next=5;break}this.state.Webcam.stop(),this.setState({VideoCapture:!1}),A.next=10;break;case 5:return A.next=7,m.a.webcam(this.webcamRef.current);case 7:e=A.sent,this.setState({Webcam:e}),this.setState({VideoCapture:!0});case 10:case"end":return A.stop()}}),A,this)})));return function(){return A.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this._handleKeyDown),"undefined"!==typeof InstallTrigger?(alert("This demo does not currently support firefox.\r\nWe recommended running it in Chrome instead."),this.setState({Prediction:"This demo  does not currently support firefox."})):this.runModel()}},{key:"runModel",value:function(){var A=Object(o.a)(r.a.mark((function A(){var e,t,n,a,s,i,c=this;return r.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,h.a();case 2:if(e=A.sent,null!=this.state.Webcam){A.next=9;break}return A.next=6,this.maybeLoadWebcam();case 6:A.t0=A.sent,A.next=10;break;case 9:A.t0=this.state.Webcam;case 10:A.t0,t=function(){var A=Object(o.a)(r.a.mark((function A(t){var n,a;return r.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(!c.state.VideoCapture){A.next=7;break}return A.next=3,c.state.Webcam.capture();case 3:n=A.sent,a=e.infer(n,"conv_preds"),v.addExample(a,t),n.dispose();case 7:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),document.getElementById("class-a").addEventListener("click",(function(){return t(0)})),document.getElementById("class-b").addEventListener("click",(function(){return t(1)})),document.getElementById("class-c").addEventListener("click",(function(){return t(2)}));case 15:if(!this.state.ModelRunning){A.next=32;break}if(this.state.Reset&&(v.clearAllClasses(),this.setState({Confidence:0,Prediction:"none",Reset:!1})),!(v.getNumClasses()>0&&this.state.VideoCapture)){A.next=28;break}return A.next=20,this.state.Webcam.capture();case 20:return n=A.sent,a=e.infer(n,"conv_preds"),A.next=24,v.predictClass(a);case 24:s=A.sent,i=["A","B","C"],this.setState({Prediction:i[s.label],Confidence:s.confidences[s.label]}),n.dispose();case 28:return A.next=30,m.b();case 30:A.next=15;break;case 32:this.setState({Prediction:"Model suspended.",Confidence:0});case 33:case"end":return A.stop()}}),A,this)})));return function(){return A.apply(this,arguments)}}()},{key:"getConfidence",value:function(){return"Confidence: "+(this.state.ModelRunning?(100*this.state.Confidence).toFixed(0)+"%":" --- ")}},{key:"getPrediction",value:function(){return this.state.ModelRunning?"Prediction: "+this.state.Prediction:"Model suspended"}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",null,"ReClassify"),a.a.createElement("h4",{className:"h4"},"On the fly image classification")),a.a.createElement("div",{className:"App-main"},a.a.createElement(k.MobileView,null,a.a.createElement("div",{style:{position:"absolute; right: 0"}},a.a.createElement("button",{id:"toggleCameraMode",onClick:this.toggleCameraMode},"\u21bb"))),a.a.createElement("video",{ref:this.webcamRef,autoPlay:!0,playsInline:!0,muted:!0,id:"webcam",poster:C.a,width:"224",height:"224"}),a.a.createElement("label",{className:"label",htmlFor:"prediction"},this.state.Prediction,a.a.createElement("br",null),this.getConfidence()),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{id:"class-a"},"Class A"),"\xa0\xa0",a.a.createElement("button",{id:"class-b"},"Class B"),"\xa0\xa0",a.a.createElement("button",{id:"class-c"},"Class C")),a.a.createElement("br",null),a.a.createElement("button",{id:"reset",onClick:this.requestReset},"Reset model")))}}]),e}(n.Component);i.a.render(a.a.createElement(R,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.491962c3.chunk.js.map